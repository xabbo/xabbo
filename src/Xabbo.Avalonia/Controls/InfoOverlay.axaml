<ResourceDictionary
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:ic="using:FluentIcons.Avalonia.Fluent"
  xmlns:controls="using:Xabbo.Avalonia.Controls"
>
  <Design.PreviewWith>
    <StackPanel Width="400" Spacing="10">
        <StackPanel Background="{DynamicResource SystemRegionBrush}">
          <controls:InfoOverlay />
        </StackPanel>
    </StackPanel>
  </Design.PreviewWith>

  <ControlTheme x:Key="{x:Type controls:InfoOverlay}" TargetType="controls:InfoOverlay">
    <Setter Property="Template">
      <ControlTemplate>
        <StackPanel
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          TextElement.FontSize="18"
          Opacity="0.5"
          Spacing="10"
        >
          <StackPanel IsVisible="{TemplateBinding ShowMessage}" HorizontalAlignment="Center" Orientation="Horizontal" Spacing="4">
            <StackPanel.IsVisible>
              <MultiBinding Converter="{x:Static BoolConverters.And}">
                <TemplateBinding Property="ShowMessage" />
                <TemplateBinding Property="Text" Converter="{x:Static StringConverters.IsNotNullOrEmpty}" />
              </MultiBinding>
            </StackPanel.IsVisible>
            <ic:SymbolIcon Symbol="Info" FontSize="24" VerticalAlignment="Center" />
            <TextBlock Text="{TemplateBinding Text}" />
          </StackPanel>
          <ContentPresenter
            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
            Content="{TemplateBinding Content}"
          >
            <ContentPresenter.IsVisible>
              <MultiBinding Converter="{x:Static BoolConverters.And}">
                <TemplateBinding Property="ShowContent" />
                <TemplateBinding Property="Content" Converter="{x:Static ObjectConverters.IsNotNull}" />
              </MultiBinding>
            </ContentPresenter.IsVisible>
          </ContentPresenter>
        </StackPanel>
      </ControlTemplate>
    </Setter>
  </ControlTheme>
</ResourceDictionary>
